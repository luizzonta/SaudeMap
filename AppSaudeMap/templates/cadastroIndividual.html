{% extends "base.html" %}

{% load widget_tweaks %}

{% block title %}Ficha Cadastro Individual{% endblock %}

{% block conteudo %}

{% load static %}

	<form method="post">
		{% csrf_token %}	

		<div class="container">
			<div class="row" >
				<div class="col-sm-2">
					<img class="img-fluid" class="img-thumbnail" src="{% static 'img/esus.jpg'%}" width="300" height="168" alt="Logotipo eSus">
				</div>
				<div class="col-sm-7">
					<br>
					<h1 class="text-center">
						<p>CADASTRO INDIVIDUAL</p>
					</h1>
				</div>
				<div class="col-sm-3">
					<br>
				</div>
			</div>
		</div>
		<br>		
		<div class="container">
		  	<div class="row">
				<div class="col-sm-3">
				    <label for="cnsProfissional"><strong>CNS do Profissional</strong></label>
					<br>
					{% render_field form.cnsProfissional class+="form-control" %}
			    </div>
			    <div class="col-sm-2">
				    <label for="cbo"><strong>CBO</strong></label>
					<br>
					{% render_field form.cbo class+="form-control" %}
			    </div>
			    <div class="col-sm-2">
				    <label for="cnes"><strong>CNES</strong></label>
					<br>
					{% render_field form.cnes class+="form-control" %}
			    </div>
			    <div class="col-sm-2">
				    <label for="ine"><strong>INE</strong></label>
					<br>
					{% render_field form.ine class+="form-control" %}

			    </div>
				<div class="col-sm-3">
				    <label for="ine"><strong>Data</strong></label>
					<br>
					{% render_field form.data class+="form-control" placeholder="dd/mm/yyyy" %}
				</div>
			</div>
		</div>
		<br>
		<div class="container">
			<div class="card">
				<div class="card-header">
			  		<h5>Identificação do Usuário / Cidadão</h5>
				</div>
				<div class="card-body">
					<div class="row">
						<div class="col-sm-3">
						    <label for="cnsCidadao"><strong>CNS do Cidadão</strong></label>
							{% render_field form.cnsCidadao class+="form-control" %}
					    </div>
					    
					    <div class="col-sm-3">
					       		<label for="responsavelFamiliar"><strong>Responsavel familiar?</strong></label>      
								{% render_field form.responsavelFamiliar class+="form-control" %}
				    	</div>
						<!--					    
					       	{% for radio in form.sexo %}  
					       		<label for="{{radio.id_for_label}}">      
								{% render_field form.sexo class+="form-control" %}
					       		</label>
					       	{% endfor %}							
						-->							

						<div class="col-sm-3">
						    <label for="cnsresponsavelFamiliar"><strong>CNS do responsável</strong></label>
							{% render_field form.cnsResponsavelFamiliar class+="form-control" %}
					    </div>
						<div class="col-sm-2">
						    <label for="microarea"><strong>Micro área</strong></label>
							{% render_field form.microArea class+="form-control" %}
					    </div>
					</div>
					<div class="row">
						<div class="col">
						    <label for="nomeCompleto"><strong>Nome Completo</strong></label>
							{% render_field form.nomeCompleto class+="form-control" %}
					    </div>
					</div>
					
					<div class="row">
						<div class="col-sm-6">
						    <label for="nomeSocial"><strong>Nome Social</strong></label>
							{% render_field form.nomeSocial class+="form-control" %}
					    </div>
						<div class="col-sm-3">
						    <label for="dataNascimento"><strong>Data de Nascimento</strong></label>
							{% render_field form.dataNascimento class+="form-control" placeholder="dd/mm/yyyy" %}
					    </div>
					    <div class="col-sm-3">
				       		<label for="sexo"><strong>Sexo</strong></label>      
							{% render_field form.sexo class+="form-control" %}
				    	</div>
				    </div>

					<div class="row">
					    <div class="col-sm-3">
				       		<label for="racaCor"><strong>Raça / Cor</strong></label>      
							{% render_field form.racaCor class+="form-control" %}
					    </div>
						<div class="col-sm-3">
						    <label for="celular"><strong>Telefone Celular</strong></label>
							{% render_field form.telefoneCelular class+="form-control" placeholder="(xx) xxxxx-xxxx" %}
					    </div>
						<div class="col-sm-6">
						    <label for="email"><strong>E-mail</strong></label>
							{% render_field form.email class+="form-control" %}
					    </div>
					</div>

					<div class="row">
						<div class="col-sm-5">
						    <label for="endereco"><strong>Endereço</strong></label>
							{% render_field form.endereco class+="form-control" %}
					    </div>
						<div class="col-sm-1">
						    <label for="numero"><strong>Número</strong></label>
							{% render_field form.numero class+="form-control" %}
					    </div>
						<div class="col-sm-3">
						    <label for="bairro"><strong>Bairro</strong></label>
							{% render_field form.bairro class+="form-control" %}
					    </div>
						<div class="col-sm-2">
						    <label for="cidade"><strong>Cidade</strong></label>
							{% render_field form.cidade class+="form-control" %}
					    </div>
						<div class="col-sm-1">
						    <label for="uf"><strong>UF</strong></label>
							{% render_field form.uf class+="form-control" %}
					    </div>
					</div>
					<div class="row">
						<div class="col-sm-">
							<br>
  							<!--var address = '{{ form.endereco }}';
							<script type="text/javascript">var address = "{{ ghar.place|escapejs }}";</script>					
							-->
						    <script  type="text/javascript">
						      function geocodeAddress() {
						    	var address = document.getElementById("id_endereco").value + ',' + document.getElementById("id_numero").value + ',' + document.getElementById("id_cidade").value;  
								var geocoder = new google.maps.Geocoder();
						        geocoder.geocode({'address': address}, function(results, status) {
						          if (status === 'OK') {
					                var lat = "" + results[0].geometry.location.lat();
					                var lng = "" + results[0].geometry.location.lng();
					                document.getElementById('id_latitude').value = lat;
					                document.getElementById('id_longitude').value = lng;
						          } else {
						            alert('Geocode não encontrado: ' + status);
						          }
						        });
						      }
						    </script>
						    <script async defer
						    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDsg5LPmELH07eibxjKD891fOi-ENsxW_E&callback=initMap">
						    </script>

							<button type="button" class="btn btn-info" OnClick="geocodeAddress()"><i class="fa fa-download"></i> Buscar coordenadas</button>
					    </div>
						<div class="col-sm-3">
						    <label for="latitude"><strong>Latitude</strong></label>
							{% render_field form.latitude class+="form-control" %}
					    </div>
						<div class="col-sm-3">
						    <label for="longitude"><strong>Longitude</strong></label>
							{% render_field form.longitude class+="form-control" %}
					    </div>
				    </div>
			    </div>
			</div>
		</div>
		<br>
		<div class="container">
			<div class="card">
				<div class="card-header">
			  		<h5>Condiçoes e Situaçoes de Saude</h5>
				</div>
				<div class="card-body">
					<div class="row" >
					    <div class="col-sm-4">
						    <label for="peso"><strong>Sobre seu peso, voce se considera?</strong></label>
						</div>
					    <div class="col-sm-2">
							{% render_field form.peso class+="form-control" %}
						</div>
					    <div class="col-sm-4">
						    <label for="gestante"><strong>Está gestante?</strong></label>
						</div>
					    <div class="col-sm-2">
							{% render_field form.gestante class+="form-control" %}
						</div>
					</div>
					<div class="row" >
					    <div class="col-sm-4">
						    <label for="fumante"><strong>Está Fumante?</strong></label>
						</div>
					    <div class="col-sm-2">
							{% render_field form.fumante class+="form-control" %}
						</div>
					    <div class="col-sm-4">
						    <label for="doencaRespiratoria "><strong>Tem doença respiratória/no pulmão?</strong></label>
						</div>
					    <div class="col-sm-2">
							{% render_field form.doencaRespiratoria  class+="form-control" %}
						</div>
					</div>
					<div class="row" >
					    <div class="col-sm-4">
						    <label for="usaAlcool"><strong>Faz uso de alcool?</strong></label>
						</div>
					    <div class="col-sm-2">
							{% render_field form.usaAlcool class+="form-control" %}
						</div>
					    <div class="col-sm-4">
						    <label for="hensaniase "><strong>Esta com Hanseniase?</strong></label>
						</div>
					    <div class="col-sm-2">
							{% render_field form.hensaniase  class+="form-control" %}
						</div>
					</div>
					<div class="row" >
					    <div class="col-sm-4">
						    <label for="usaDrogas"><strong>Faz uso de drogas?</strong></label>
						</div>
					    <div class="col-sm-2">
							{% render_field form.usaDrogas class+="form-control" %}
						</div>
					    <div class="col-sm-4">
						    <label for="tuberculose "><strong>Esta com Tuberculose?</strong></label>
						</div>
					    <div class="col-sm-2">
							{% render_field form.tuberculose  class+="form-control" %}
						</div>
					</div>
					<div class="row" >
					    <div class="col-sm-4">
						    <label for="hipertensaoArterial"><strong>Tem hipertensão arterial?</strong></label>
						</div>
					    <div class="col-sm-2">
							{% render_field form.hipertensaoArterial class+="form-control" %}
						</div>
					    <div class="col-sm-4">
						    <label for="cancer "><strong>Tem ou teve cancer?</strong></label>
						</div>
					    <div class="col-sm-2">
							{% render_field form.cancer  class+="form-control" %}
						</div>
					</div>
					<div class="row" >
					    <div class="col-sm-4">
						    <label for="diabetes"><strong>Tem diabetes?</strong></label>
						</div>
					    <div class="col-sm-2">
							{% render_field form.diabetes class+="form-control" %}
						</div>
					    <div class="col-sm-4">
						    <label for="internacao "><strong>Teve alguma internação no últimos 12 meses?</strong></label>
						</div>
					    <div class="col-sm-2">
							{% render_field form.internacao  class+="form-control" %}
						</div>
					</div>
					<div class="row" >
					    <div class="col-sm-4">
						    <label for="avcDerrame"><strong>Teve AVC/Derrame?</strong></label>
						</div>
					    <div class="col-sm-2">
							{% render_field form.avcDerrame class+="form-control" %}
						</div>
					    <div class="col-sm-4">
						    <label for="saudeMental "><strong>Teve diagnostico de algum problema de saúde mental?</strong></label>
						</div>
					    <div class="col-sm-2">
							{% render_field form.saudeMental  class+="form-control" %}
						</div>
					</div>
					<div class="row" >
					    <div class="col-sm-4">
						    <label for="infarto"><strong>Teve infarto?</strong></label>
						</div>
					    <div class="col-sm-2">
							{% render_field form.infarto class+="form-control" %}
						</div>
					    <div class="col-sm-4">
						    <label for="acamado "><strong>Está acamado?</strong></label>
						</div>
					    <div class="col-sm-2">
							{% render_field form.acamado  class+="form-control" %}
						</div>
					</div>
					<div class="row" >
					    <div class="col-sm-4">
						    <label for="doencaCardiaca"><strong>Tem doença cardiaca / coração?</strong></label>
						</div>
					    <div class="col-sm-2">
							{% render_field form.doencaCardiaca class+="form-control" %}
						</div>
					    <div class="col-sm-4">
						    <label for="domiciliado "><strong>Está domiciliado?</strong></label>
						</div>
					    <div class="col-sm-2">
							{% render_field form.domiciliado  class+="form-control" %}
						</div>
					</div>
					<div class="row" >
					    <div class="col-sm-4">
						    <label for="problemaRins"><strong>Tem ou teve problema nos rins?</strong></label>
						</div>
					    <div class="col-sm-2">
							{% render_field form.problemaRins class+="form-control" %}
						</div>
					    <div class="col-sm-4">
						    <label for="plantasMedicinais "><strong>Usa plantas medicinais?</strong></label>
						</div>
					    <div class="col-sm-2">
							{% render_field form.plantasMedicinais  class+="form-control" %}
						</div>
					</div>

					<br>
				</div>
			</div>
		</div>

		<br>
		<div class="container">
			<button class="btn btn-primary"><i class="fa fa-save"></i> Salvar</button>
			<a href="{% url 'lista_cadastro_individual' %}"><button type="button" class="btn btn-danger"><i class="fa fa-close"></i> Cancelar</button></a>
		</div>
				
	</form>


{% endblock %}